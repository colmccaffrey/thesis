/**
 * @brightcove/videojs-ima3
 * @version 2.22.3
 * @copyright 2018 Brightcove, Inc.
 * @license UNLICENSED
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsIma3=e()}}(function(){var e;return function(){function e(t,a,n){function i(d,r){if(!a[d]){if(!t[d]){var s="function"==typeof require&&require;if(!r&&s)return s(d,!0);if(o)return o(d,!0);var A=new Error("Cannot find module '"+d+"'");throw A.code="MODULE_NOT_FOUND",A}var u=a[d]={exports:{}};t[d][0].call(u.exports,function(e){var a=t[d][1][e];return i(a||e)},u,u.exports,e,t,a,n)}return a[d].exports}for(var o="function"==typeof require&&require,d=0;d<n.length;d++)i(n[d]);return i}return e}()({1:[function(e,t,a){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=r["default"].browser.IS_IOS,a=undefined;a=t&&e.playsinline()?[{prop:"canAutoPlayInlineVideo",method:"video",params:{retryAfterTimeout:2,timeout:250,muted:!1,inline:!0}},{prop:"canAutoPlayMutedInlineVideo",method:"video",params:{retryAfterTimeout:2,timeout:250,muted:!0,inline:!0}}]:[{prop:"canAutoPlayVideo",method:"video",params:{retryAfterTimeout:2,timeout:250,muted:!1}},{prop:"canAutoPlayMutedVideo",method:"video",params:{retryAfterTimeout:2,timeout:250,muted:!0}}];var n=function i(t){return l["default"][t.method](t.params).then(function(a){var n=a.result,o=a.error;if(e.ima3[t.prop]=n,o&&"Error"===o.name&&t.params.retryAfterTimeout&&(!e.ima3.canAutoPlayVideo||!e.ima3.canAutoPlayInlineVideo))return t.params.retryAfterTimeout--,i(t)})};return A["default"].Promise?e.autoplay()?e.ima3.canAutoPlayTestsResult?e.ima3.canAutoPlayTestsResult:(e.ima3.canAutoPlayTestsResult=function(){return a.reduce(function(t,a){return t.then(function(){if(!e.ima3.canAutoPlayVideo&&!e.ima3.canAutoPlayInlineVideo)return n(a)})},Promise.resolve()).then(function(){return Promise.resolve()})}(),e.ima3.canAutoPlayTestsResult):Promise.resolve():(e.ima3.canAutoPlayVideo=!0,e.ima3.canAutoPlayMutedVideo=!0,{then:function(e){e()}})}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=o;var d="undefined"!=typeof window?window.videojs:void 0!==n?n.videojs:null,r=i(d),s=e("global/window"),A=i(s),u=e("can-autoplay"),l=i(u);t.exports=a["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"can-autoplay":4,"global/window":6}],2:[function(e,t,a){(function(e){"use strict";function n(e,t){g(e,t),e.ima3.cueState_.cueModule.setMetadataTrackMode=function(e){e.mode="hidden"},e.ima3.cueState_.cueModule.getCueId=function(e,t){var a=e.ima3.cueState_.cueModule.getSupportedAdCue(e,t);return a?a.id:null},e.ima3.cueState_.cueModule.isSupportedAdCue=function(e,t){return null!==e.ima3.cueState_.cueModule.getSupportedAdCue(e,t)},e.ima3.cueState_.cueModule.getSupportedAdCue=function(e,t){return e.ima3.settings.useMediaCuePoints&&"oncue"===e.ima3.settings.requestMode?s(t):"oncue"===e.ima3.settings.requestMode?r(t):null},e.ima3.cueState_.cueModule.processMetadataTracks(e,p)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=n;var i="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,o=function(e){return e&&e.__esModule?e:{"default":e}}(i),d=function(e,t){var a=t.cues,n=t.label,i=t.inBandMetadataTrackDispatchType,o=t.kind;if("metadata"===o)return"media-cues"===n||(!(!i||"metadata"!==o)||(!a||!a.length||e.ima3.cueState_.cueModule.isSupportedAdCue(e,a[0])))},r=function(e){var t=undefined;if(e&&!e.value||"TXXX"!==e.value.key)return null;try{t=JSON.parse(e.value.data)}catch(n){return o["default"].log.error("ERROR: Parsing JSON. Please confirm that JSON is valid.",n.message),null}if(!t.name)return null;var a=t.name.toLowerCase();return"adcue"!==a&&"adcancel"!==a?null:t},s=function(e){if(!e.originalCuePoint||!e.text||"ad"!==e.text.toLowerCase())return null;if(!e.id){var t=o["default"].mergeOptions({},e);return t.id=e.originalCuePoint.id,t}return e},A=function(e,t){return!(!t||!t.text||"ad"!==t.text.toLowerCase())||!(!t||!t.name||"adcue"!==t.name.toLowerCase())},u=function(e,t,a){var n=Math.abs(a-e.duration()),i=Math.abs(a-e.currentTime()),d=undefined;if(0===a){if(e.ima3.cueState_.prerollPlayed)return;e.ima3.cueState_.prerollPlayed=!0,e.ads.adType="preroll"}if(n<=1){if(e.ima3.cueState_.postrollPlayed)return;e.ima3.cueState_.postrollPlayed=!0}i>=1||(d=!e.ima3.settings.useMediaCuePoints&&t.serverUrl?t.serverUrl:e.ima3.settings.serverUrl,d=e.ima3.adMacroReplacement(d),t.duration&&(/\?/.test(d)?d+="&breaklength="+t.duration:d+="?breaklength="+t.duration),e.ima3.isReady_&&(o["default"].log("Oncue ad request at "+a+" seconds"),e.ima3.adrequest(d)))},l=function(e,t,a,n,i){0===n&&e.ima3.cueState_.prerollPlayed||i<=1&&e.ima3.cueState_.postrollPlayed||(u(e,t,n),e.ima3.cueState_.usedActiveCues[a]=!0)},c=function(e,t,a,n){var i=e.mediainfo?Math.max(e.duration(),e.mediainfo.duration):e.duration(),d=Math.abs(n-i);if(!e.ads.isAdPlaying()||!A(0,t)){if(!a)return void o["default"].log.error("The cue does not have an ID and cannot be used",t);if(!(e.ima3.cueState_.usedActiveCues[a]||t.name&&"adcancel"===t.name.toLowerCase()))return 0!==n||e.ima3.cueState_.prerollHandledEarly||e.ima3.cueState_.prerollPlayed||!e.paused()||e.ads._cancelledPlay?d<=1&&!e.ima3.cueState_.postrollHandled?(e.ima3.cueState_.postrollHandled=!0,void e.ima3.oneUnlessContentUpdate_("contentended",function(){l(e,t,a,n,d)})):void(e.ima3.isReady_&&l(e,t,a,n,d)):(e.ima3.cueState_.prerollHandledEarly=!0,void e.ima3.oneUnlessContentUpdate_("play",function(){l(e,t,a,n,d)}))}},m=function(e,t,a,n){e.ima3.settings.useMediaCuePoints||"adCancel"!==t.name||!e.ima3.adsManager||e.ima3.cueState_.usedActiveCues[a]||(e.ima3.cueState_.usedActiveCues[a]=!0,e.ima3.adsManager.stop(),o["default"].log("Cancelling oncue ad at "+n+" seconds"))},f=function(e){return function(){var t=this.activeCues;if(!e.scrubbing()&&t&&t.length){var a=t[t.length-1],n=[a];if(!d(e,this))return void this.removeEventListener("cuechange",e.ima3.cueState_.adCueChangeHandler);e.ima3.cueState_.cueModule.processAdTrack(e,n,c,m)}}},p=function(e,t){var a=t.cues,n=undefined;if(d(e,t)){if(a&&a.length){for(var i=0;i<a.length;i++){var o=e.mediainfo?Math.max(e.duration(),e.mediainfo.duration):e.duration();Math.abs(a[i].startTime-o)<=1&&(n=a[i])}n||(e.trigger("nopostroll"),e.ima3.oneUnlessContentUpdate_("ended",function(){t.mode="hidden"}))}t.addEventListener("cuechange",e.ima3.cueState_.adCueChangeHandler)}},g=function(e,t){e.ima3.cueState_={cueModule:t,adCueChangeHandler:f(e),usedActiveCues:{},prerollHandledEarly:!1,prerollPlayed:!1,postrollHandled:!1,postrollPlayed:!1}};t.exports=a["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,a){},{}],4:[function(e,t,a){"use strict";function n(e){for(var t=/^data:([^;]+);base64,(.+)$/i,a=e.match(t),n=a[1],i=a[2],o=atob(i),d=o.length,r=Math.ceil(d/1024),s=new Array(r),A=0;A<r;++A){for(var u=1024*A,l=Math.min(u+1024,d),c=new Array(l-u),m=u,f=0;m<l;++f,++m)c[f]=o[m].charCodeAt(0);s[A]=new Uint8Array(c)}return new Blob(s,{type:n})}function i(e){return Object.assign({muted:!1,timeout:250,inline:!1,blob:!1},e)}function o(e,t){var a=e.muted,n=e.timeout,i=e.inline,o=t(),d=o.element,r=o.source,s=void 0,A=void 0,u=void 0;return d.muted=a,!0===a&&d.setAttribute("muted","muted"),!0===i&&d.setAttribute("playsinline","playsinline"),d.src=r,new Promise(function(e){s=d.play(),A=setTimeout(function(){u(!1,new Error("Timeout "+n+" ms has been reached"))},n),u=function(t){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;clearTimeout(A),e({result:t,error:a})},s!==undefined?s.then(function(){return u(!0)})["catch"](function(e){return u(!1,e)}):u(!0)})}function d(e){return e=i(e),o(e,function(){var t=e.blob?URL.createObjectURL(n(A)):A;return{element:document.createElement("video"),source:t}})}function r(e){return e=i(e),o(e,function(){var t=e.blob?URL.createObjectURL(n(A)):s;return{element:document.createElement("audio"),source:t}})}var s="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",A="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=",u={audio:r,video:d};t.exports=u},{}],5:[function(e,t,a){(function(a){var n=void 0!==a?a:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var o=n["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=n["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],6:[function(e,t,a){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,a,n){(function(t){/*
 * videojs-contrib-ads
 * @version 5.1.6
 * @copyright 2018 Brightcove, Inc.
 * @license Apache-2.0
 */
!function(t,i){"object"==typeof n&&void 0!==a?a.exports=i("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null):"function"==typeof e&&e.amd?e(["video.js"],i):t.videojsContribAds=i(t.videojs)}(this,function(e){"use strict";function a(e){"playing"===e.type?f(this,e):"ended"===e.type?p(this,e):"loadstart"===e.type||"loadeddata"===e.type||"loadedmetadata"===e.type?g(this,e):"play"===e.type?v(this,e):this.ads.isInAdMode()&&(this.ads.isContentResuming()?m(this,"content",e):m(this,"ad",e))}function n(t){var a=void 0;a=e.browser.IS_IOS&&t.ads.isLive(t)&&t.seekable().length>0?t.currentTime()-t.seekable().end(0):t.currentTime();var n=t.$(".vjs-tech"),i=t.textTracks?t.textTracks():[],o=[],d={ended:t.ended(),currentSrc:t.currentSrc(),src:t.tech_.src(),currentTime:a,type:t.currentType()};n&&(d.nativePoster=n.poster,d.style=n.getAttribute("style"));for(var r=0;r<i.length;r++){var s=i[r];o.push({track:s,mode:s.mode}),s.mode="disabled"}return d.suppressedTracks=o,d}function i(t,a){if(!0===t.ads.disableNextSnapshotRestore)return void(t.ads.disableNextSnapshotRestore=!1);var n=t.$(".vjs-tech"),i=20,o=a.suppressedTracks,d=void 0,r=function(){for(var e=0;e<o.length;e++)d=o[e],d.track.mode=d.mode},s=function(){var n=void 0;e.browser.IS_IOS&&t.ads.isLive(t)?a.currentTime<0&&(n=t.seekable().length>0?t.seekable().end(0)+a.currentTime:t.currentTime(),t.currentTime(n)):a.ended?t.currentTime(t.duration()):t.currentTime(a.currentTime),a.ended||t.play(),t.ads.shouldRemoveAutoplay_&&(t.autoplay(!1),t.ads.shouldRemoveAutoplay_=!1)},A=function u(){if(t.off("contentcanplay",u),t.ads.tryToResumeTimeout_&&(t.clearTimeout(t.ads.tryToResumeTimeout_),t.ads.tryToResumeTimeout_=null),n=t.el().querySelector(".vjs-tech"),n.readyState>1)return s();if(n.seekable===undefined)return s();if(n.seekable.length>0)return s();if(i--)l.setTimeout(u,50);else try{s()}catch(a){e.log.warn("Failed to resume the content after an advertisement",a)}};a.nativePoster&&(n.poster=a.nativePoster),"style"in a&&n.setAttribute("style",a.style||""),t.ads.videoElementRecycled()?(t.one("contentloadedmetadata",r),e.browser.IS_IOS&&!t.autoplay()&&(t.autoplay(!0),t.ads.shouldRemoveAutoplay_=!0),t.src({src:a.currentSrc,type:a.type}),t.one("contentcanplay",A),t.ads.tryToResumeTimeout_=t.setTimeout(A,2e3)):(r(),t.ended()||t.play())}function o(e){e.ads.contentSrc=e.currentSrc();var t=function(){if("ad-playback"!==e.ads.state){var t=e.currentSrc();t!==e.ads.contentSrc&&(e.trigger({type:"contentupdate",oldValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t)}};e.on("loadstart",t),l.setTimeout(t,1)}function d(e){e.ads.cancelPlayTimeout||(e.ads.cancelPlayTimeout=l.setTimeout(function(){e.ads.cancelPlayTimeout=null,e.paused()||e.pause(),e.ads._cancelledPlay=!0},1))}function r(t,a,n){a===undefined&&(a=!1);var i={};n!==undefined&&(i=n),i["{player.id}"]=this.options_["data-player"],i["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",i["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",i["{mediainfo.description}"]=this.mediainfo?this.mediainfo.description:"",i["{mediainfo.tags}"]=this.mediainfo?this.mediainfo.tags:"",i["{mediainfo.reference_id}"]=this.mediainfo?this.mediainfo.reference_id:"",i["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",i["{mediainfo.ad_keys}"]=this.mediainfo?this.mediainfo.ad_keys:"",i["{player.duration}"]=this.duration(),i["{timestamp}"]=(new Date).getTime(),i["{document.referrer}"]=_.referrer,i["{window.location.href}"]=l.location.href,i["{random}"]=Math.floor(1e12*Math.random()),w(this.mediainfo,i,"custom_fields"),w(this.mediainfo,i,"customFields");for(var o in i)t=t.split(o).join(M(i[o],a));return t=t.replace(/{pageVariable\.([^}]+)}/g,function(t,n){for(var i=void 0,o=l,d=n.split("."),r=0;r<d.length;r++)r===d.length-1?i=o[d[r]]:o=o[d[r]];var s=void 0===i?"undefined":b(i);return null===i?"null":i===undefined?(e.log.warn('Page variable "'+n+'" not found'),""):"string"!==s&&"number"!==s&&"boolean"!==s?(e.log.warn('Page variable "'+n+'" is not a supported type'),""):M(String(i),a)})}e=e&&e.hasOwnProperty("default")?e["default"]:e;var s,A="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};s="undefined"!=typeof window?window:void 0!==A?A:"undefined"!=typeof self?self:{};var u,l=s,c=function(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}},m=function(e,t,a){c(0,a),e.trigger({type:t+a.type,state:e.ads.state,originalEvent:a})},f=function(e,t){e.ads.isInAdMode()&&(e.ads.isContentResuming()?e.ads._contentEnding&&m(e,"content",t):e.ads._cancelledPlay?c(0,t):m(e,"ad",t))},p=function(e,t){if(e.ads.isInAdMode()){if(e.ads.isContentResuming())return;m(e,"ad",t)}else m(e,"content",t)},g=function(e,t){if(!("loadstart"===t.type&&!e.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===t.type&&!e.ads._hasThereBeenALoadedData||"loadedmetadata"===t.type&&!e.ads._hasThereBeenALoadedMetaData))if(e.ads.isAdPlaying())m(e,"ad",t);else{if(e.currentSrc()!==e.ads.contentSrc)return;m(e,"content",t)}},v=function(e,t){var a=e.ads._cancelledPlay&&!e.ads.isInAdMode();e.ads.isAdPlaying()?m(e,"ad",t):(e.ads.isContentResuming()||a)&&m(e,"content",t)},h={},y=(Object.freeze||Object)({"default":h}),T=y&&h||y,C=void 0!==A?A:"undefined"!=typeof window?window:{};"undefined"!=typeof document?u=document:(u=C["__GLOBAL_DOCUMENT_CACHE@4"])||(u=C["__GLOBAL_DOCUMENT_CACHE@4"]=T);var _=u,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e,t){return t?encodeURIComponent(e):e},w=function(e,t,a){if(e&&e[a])for(var n=e[a],i=Object.keys(n),o=0;o<i.length;o++){var d="{mediainfo."+a+"."+i[o]+"}";t[d]=n[i[o]]}},S={};S.processMetadataTracks=function(e,t){for(var a=e.textTracks(),n=function(a){"metadata"===a.kind&&(e.ads.cueTextTracks.setMetadataTrackMode(a),t(e,a))},i=0;i<a.length;i++)n(a[i]);a.addEventListener("addtrack",function(e){n(e.track)})},S.setMetadataTrackMode=function(e){},S.getSupportedAdCue=function(e,t){return t},S.isSupportedAdCue=function(e,t){return!0},S.getCueId=function(e,t){return t.id};var P=function(e,t){return t!==undefined&&e.ads.includedCues[t]},q=function(e,t){t!==undefined&&""!==t&&(e.ads.includedCues[t]=!0)};S.processAdTrack=function(t,a,n,i){t.ads.includedCues={};for(var o=0;o<a.length;o++){var d=a[o],r=this.getSupportedAdCue(t,d);if(!this.isSupportedAdCue(t,d))return void e.log.warn("Skipping as this is not a supported ad cue.",d);var s=this.getCueId(t,d),A=d.startTime;if(P(t,s))return void e.log("Skipping ad already seen with ID "+s);i&&i(t,r,s,A),n(t,r,s,A),q(t,s)}};var E=e.getTech("Html5").Events,I=function(e){var t=e.$(".vjs-tech");t&&t.removeAttribute("poster")},j={timeout:5e3,prerollTimeout:100,postrollTimeout:100,debug:!1,stitchedAds:!1},k=function(t){var s=this,A=e.mergeOptions(j,t),u=E.concat(["firstplay","loadedalldata","playing"]);s.on(u,a),l.setTimeout(function(){s.ads._hasThereBeenALoadStartDuringPlayerLife||""===s.src()||e.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see https://github.com/videojs/videojs-contrib-ads#important-note-about-initialization")},5e3),s.on("ended",function(){s.hasClass("vjs-has-started")||s.addClass("vjs-has-started")}),s.on(["addurationchange","adcanplay"],function(){s.ads.snapshot&&s.currentSrc()===s.ads.snapshot.currentSrc||s.ads.isAdPlaying()&&s.play()}),s.on("nopreroll",function(){s.ads.nopreroll_=!0}),s.on("nopostroll",function(){s.ads.nopostroll_=!0}),s.on(["ads-ad-started","playing"],function(){s.removeClass("vjs-ad-loading")}),s.on("playing",function(){s.ads._cancelledPlay=!1}),s.one("loadstart",function(){s.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),s.on("loadeddata",function(){s.ads._hasThereBeenALoadedData=!0}),s.on("loadedmetadata",function(){s.ads._hasThereBeenALoadedMetaData=!0}),s.ads={state:"content-set",disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,adType:null,VERSION:"__VERSION__",reset:function(){s.ads.disableNextSnapshotRestore=!1,s.ads._contentEnding=!1,s.ads._contentHasEnded=!1,s.ads.snapshot=null,s.ads.adType=null,s.ads._hasThereBeenALoadedData=!1,s.ads._hasThereBeenALoadedMetaData=!1,s.ads._cancelledPlay=!1},startLinearAdMode:function(){"preroll?"!==s.ads.state&&"content-playback"!==s.ads.state&&"postroll?"!==s.ads.state||(s.ads._inLinearAdMode=!0,s.trigger("adstart"))},endLinearAdMode:function(){"ad-playback"===s.ads.state&&(s.ads._inLinearAdMode=!1,s.trigger("adend"),s.removeClass("vjs-ad-loading"))},skipLinearAdMode:function(){"ad-playback"!==s.ads.state&&s.trigger("adskip")},stitchedAds:function(e){return e!==undefined&&(this._stitchedAds=!!e),this._stitchedAds},videoElementRecycled:function(){if(s.ads.shouldPlayContentBehindAd(s))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=s.tech_.src()!==this.snapshot.src,t=s.currentSrc()!==this.snapshot.currentSrc;return e||t},isLive:function(t){return t.duration()===Infinity||"8"===e.browser.IOS_VERSION&&0===t.duration()},shouldPlayContentBehindAd:function(t){return!e.browser.IS_IOS&&!e.browser.IS_ANDROID&&t.duration()===Infinity},isInAdMode:function(){return"ads-ready?"===s.ads.state||"preroll?"===s.ads.state||"ad-playback"===s.ads.state||"content-resuming"===s.ads.state},isContentResuming:function(){return"content-resuming"===s.ads.state},isAdPlaying:function(){return this._inLinearAdMode}},s.ads.stitchedAds(A.stitchedAds),s.ads.cueTextTracks=S,s.ads.adMacroReplacement=r.bind(s),o(s),s.on("contentupdate",s.ads.reset);var c={"content-set":{events:{adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?",d(s),I(s)},adserror:function(){this.state="content-playback"},adskip:function(){this.state="content-playback"}}},"ads-ready":{events:{play:function(){this.state="preroll?",d(s)},adskip:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"preroll?":{enter:function(){s.ads.nopreroll_?(s.trigger("readyforpreroll"),l.setTimeout(function(){s.trigger("nopreroll")},1)):(s.addClass("vjs-ad-loading"),s.ads.adTimeoutTimeout=l.setTimeout(function(){s.trigger("adtimeout")},A.prerollTimeout),s.ads._hasThereBeenALoadStartDuringPlayerLife?s.trigger("readyforpreroll"):s.one("loadstart",function(){s.trigger("readyforpreroll")}))},leave:function(){l.clearTimeout(s.ads.adTimeoutTimeout)},events:{play:function(){d(s)},adstart:function(){this.state="ad-playback",s.ads.adType="preroll"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"},nopreroll:function(){this.state="content-playback"}}},"ads-ready?":{enter:function(){s.addClass("vjs-ad-loading"),s.ads.adTimeoutTimeout=l.setTimeout(function(){s.trigger("adtimeout")},A.timeout)},leave:function(){l.clearTimeout(s.ads.adTimeoutTimeout),s.removeClass("vjs-ad-loading")},events:{play:function(){d(s)},adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="preroll?"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ad-playback":{enter:function(){s.ads.shouldPlayContentBehindAd(s)||(this.snapshot=n(s)),s.ads.shouldPlayContentBehindAd(s)&&(this.preAdVolume_=s.volume(),s.volume(0)),s.addClass("vjs-ad-playing"),s.hasClass("vjs-live")&&s.removeClass("vjs-live"),I(s),s.ads.cancelPlayTimeout&&l.setTimeout(function(){l.clearTimeout(s.ads.cancelPlayTimeout),s.ads.cancelPlayTimeout=null},1)},leave:function(){s.removeClass("vjs-ad-playing"),s.ads.isLive(s)&&s.addClass("vjs-live"),s.ads.shouldPlayContentBehindAd(s)||i(s,this.snapshot),s.ads.shouldPlayContentBehindAd(s)&&s.volume(this.preAdVolume_)},events:{adend:function(){this.state="content-resuming",s.ads.adType=null},adserror:function(){s.ads.endLinearAdMode()}}},"content-resuming":{enter:function(){this._contentHasEnded&&(l.clearTimeout(s.ads._fireEndedTimeout),s.ads._fireEndedTimeout=l.setTimeout(function(){s.trigger("ended")},1e3))},leave:function(){l.clearTimeout(s.ads._fireEndedTimeout)},events:{contentupdate:function(){this.state="content-set"},contentresumed:function(){this.state="content-playback"},playing:function(){this.state="content-playback"},ended:function(){this.state="content-playback"}}},"postroll?":{enter:function(){s.ads._contentEnding=!0,s.ads.nopostroll_?l.setTimeout(function(){s.ads.state="content-resuming",s.trigger("ended")},1):(s.addClass("vjs-ad-loading"),s.ads.adTimeoutTimeout=l.setTimeout(function(){s.trigger("adtimeout")},A.postrollTimeout))},leave:function(){l.clearTimeout(s.ads.adTimeoutTimeout),s.removeClass("vjs-ad-loading")},events:{adstart:function(){this.state="ad-playback",s.ads.adType="postroll"},adskip:function(){this.state="content-resuming",l.setTimeout(function(){s.trigger("ended")},1)},adtimeout:function(){this.state="content-resuming",l.setTimeout(function(){s.trigger("ended")},1)},adserror:function(){this.state="content-resuming",l.setTimeout(function(){s.trigger("ended")},1)},contentupdate:function(){this.state="ads-ready?"}}},"content-playback":{enter:function(){s.ads.cancelPlayTimeout&&(l.clearTimeout(s.ads.cancelPlayTimeout),s.ads.cancelPlayTimeout=null),s.trigger({type:"contentplayback",triggerevent:s.ads.triggerevent}),s.ads._cancelledPlay&&s.paused()&&s.play()},events:{adsready:function(){s.trigger("readyforpreroll")},adstart:function(){this.state="ad-playback","preroll"!==s.ads.adType&&(s.ads.adType="midroll")},contentupdate:function(){s.paused()?this.state="content-set":this.state="ads-ready?"},contentended:function(){if(this._contentHasEnded)return void(this.state="content-resuming");this._contentEnding=!1,this._contentHasEnded=!0,this.state="postroll?"}}}},m=function(t){var a=s.ads.state,n=c[a].events;if(n){var i=n[t.type];i&&i.apply(s.ads)}if(a!==s.ads.state){var o=a,d=s.ads.state;s.ads.triggerevent=t.type,c[o].leave&&c[o].leave.apply(s.ads),c[d].enter&&c[d].enter.apply(s.ads),A.debug&&e.log("ads",s.ads.triggerevent+" triggered: "+o+" -> "+d)}},f=function(){return!s.ads.shouldPlayContentBehindAd(s)&&s.ads.isAdPlaying()&&s.tech_.featuresNativeTextTracks&&e.browser.IS_IOS&&!Array.isArray(s.textTracks())},p=function(){var e=s.textTracks();if(f())for(var t=0;t<e.length;t++){var a=e[t];"showing"===a.mode&&(a.mode="disabled")}};s.ready(function(){s.textTracks().addEventListener("change",p)}),s.on(E.concat(["adtimeout","contentupdate","contentplaying","contentended","contentresumed","adstart","adend","adskip","adsready","adserror","adscanceled","nopreroll"]),m),s.on("dispose",function(){s.ads.adTimeoutTimeout&&l.clearTimeout(s.ads.adTimeoutTimeout),s.ads._fireEndedTimeout&&l.clearTimeout(s.ads._fireEndedTimeout),s.ads.cancelPlayTimeout&&l.clearTimeout(s.ads.cancelPlayTimeout),s.ads.tryToResumeTimeout_&&s.clearTimeout(s.ads.tryToResumeTimeout_),s.textTracks().removeEventListener("change",p)}),s.paused()||m({type:"play"})};return(e.registerPlugin||e.plugin)("ads",k),k})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,a){(function(t){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function a(e){return e&&e.__esModule?e:{"default":e}}function a(e){return e&&e.__esModule?e:{"default":e}}var n="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,i=a(n);e("videojs-contrib-ads");var o=e("global/window"),d=a(o),r=e("./videojs.ima3-cuepoints.js"),s=a(r),A=e("./videojs.ima3-canautoplay.js"),u=a(A),l=i["default"].ima3={},c=l.defaults={sdkurl:(/^(file|data):/.test(d["default"].location.protocol)?"http:":"")+"//imasdk.googleapis.com/js/sdkloader/ima3.js",adTechOrder:["flash","html5"],serverUrl:("file:"===d["default"].location.protocol?"http:":"")+"//pubads.g.doubleclick.net/gampad/ads?sz=400x300&iu=%2F6062%2Fiab_vast_samples&ciu_szs=300x250%2C728x90&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cust_params=iab_vast_samples%3Dlinear",adSwf:("file:"===d["default"].location.protocol?"http:":"")+"//players.brightcove.net/videojs-ima3/2.22.3/videojs.ima3.swf",loadingSpinner:!1,timeout:4e3,requestMode:"onload",hardTimeouts:!0,showVpaidControls:!1},m=i["default"].ima3.extend=function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)a.hasOwnProperty(n)&&(e[n]=a[n])}return e},f=function(e){var t=this,a=m({},c,e||{}),n=this.el().querySelector(".vjs-tech"),o=a.adTechOrder,r=!1,A=undefined;if(this.addClass("vjs-ima3-not-playing-yet"),e&&e.useMediaCuePoints&&"oncue"!==e.requestMode)throw new Error('useMediaCuePoints must be used with requestMode "oncue" rather than the currently set '+e.requestMode);if(this.ready(function(){var e=this;(0,u["default"])(this).then(function(){e.autoplay()&&!e.ima3.canAutoPlayVideo&&e.ima3.canAutoPlayMutedVideo&&(e.muted(!0),e.play()),i["default"].browser.IS_IOS&&e.playsinline()&&e.autoplay()&&!e.ima3.canAutoPlayInlineVideo&&e.ima3.canAutoPlayMutedInlineVideo&&(e.muted(!0),e.play())})}),this.on(["playing"],function(e){t.removeClass("vjs-ima3-not-playing-yet"),t.tech_.el_.removeAttribute("poster")}),a.prerollTimeout&&(i["default"].log.warn("The prerollTimeout option is deprecated and will be removed, please use the timeout option. The prerollTimeout will be set to the value of the timeout option."),a.prerollTimeout=undefined),a.postrollTimeout&&(i["default"].log.warn("The postrollTimeout option is deprecated and will be removed, please use the timeout option. The postrollTimeout will be set to the value of the timeout option."),a.postrollTimeout=undefined),a.timeout&&(a.prerollTimeout=a.postrollTimeout=a.timeout),a.contribAdsPrerollTimeout&&(a.prerollTimeout=a.contribAdsPrerollTimeout),a.contribAdsPostrollTimeout&&(a.postrollTimeout=a.contribAdsPostrollTimeout),!this.autoplay()||i["default"].browser.IS_IOS||i["default"].browser.IS_ANDROID||this.addClass("vjs-ima3-autoplay"),"onplay"===a.requestMode&&this.autoplay()&&(a.requestMode="onload"),!("adControlBar"in a)){var l={name:"adControlBar"},f=this.getChild("controlBar");f&&f.getChild("volumeMenuButton")?l.volumeMenuButton={vertical:f.getChild("volumeMenuButton").options_.vertical}:f&&f.getChild("volumePanel")&&(l.volumePanel={inline:f.getChild("volumePanel").options_.inline}),a.adControlBar=m({},this.options_.children.controlBar,l)}a.adControlBar.hasOwnProperty("children")||function(){var e=i["default"].getComponent("ControlBar"),t=["audioTrackButton","captionsButton","chaptersButton","descriptionsButton","subsCapsButton","subtitlesButton"];a.adControlBar.children=[].concat(e.prototype.options_.children).filter(function(e){return-1===t.indexOf(e)})}(),a.eventMap={"ima3-click":"ads-click","ima3-started":"ads-ad-started","ima3-complete":"ads-ad-ended","ima3-first-quartile":"ads-first-quartile","ima3-midpoint":"ads-midpoint","ima3-third-quartile":"ads-third-quartile","ima3-volume-changed":"ads-volumechange","ima3-paused":"ads-pause","ima3-resumed":"ads-play","ima3-skipped":"ads-ad-skipped","ima3-all-ads-completed":"ads-allpods-completed","ads-request":"ads-request","ads-pod-ended":"ads-pod-ended","ads-pod-started":"ads-pod-started","ads-load":"ads-load"},this.ads(a),this.ads.ad={},this.ads.pod={id:undefined,size:undefined},"oncue"===a.requestMode&&this.on("loadedmetadata",function(){(0,s["default"])(t,t.ads.cueTextTracks)}),"ondemand"!==a.requestMode&&"oncue"!==a.requestMode||("ondemand"===a.requestMode&&(this.trigger("nopreroll"),this.trigger("nopostroll")),this.trigger("adsready"),this.on("contentupdate",function(){t.trigger("adsready")})),this.on("ima3-ready",function(){this.ima3.isReady_=!0,this.contextmenu&&(this.contextmenu.options.disabled=this.ima3.contextMenuPreviouslyDisabled),this.removeClass("vjs-ima3-right-click");for(var e=0;e<this.ima3.readyQueue_.length;e++)this.ima3.readyQueue_[e].call(this);this.ima3.readyQueue_=[]}),this.on("ads-ad-started",function(){this.ima3.volume=this.volume(),this.muted()?this.ima3.adPlayer.muted(!0):this.ima3.adPlayer.volume(this.volume()||this.ads.preAdVolume_),this.ima3.adPlayer.trigger("durationchange")}),this.on(["ads-ad-ended","ads-ad-skipped"],function(){this.volume(this.ima3.adPlayer.volume()),this.ads.preAdVolume_&&(this.ads.preAdVolume_=this.volume()),this.muted(this.ima3.adPlayer.muted())}),a.showVpaidControls||this.addClass("vjs-vpaid-controls-disabled"),this.ima3={readyQueue_:[],isReady_:!1,player:this,tech:n,settings:a,ready:function(e){return e&&(t.ima3.isReady_?e.call(t):(t.ima3.readyQueue_===undefined&&(t.ima3.readyQueue_=[]),t.ima3.readyQueue_.push(e))),t.ima3},makeAdRequestFunction:function(e){var t=this;return function(a){var n=a||t.settings.serverUrl;return t.player.mediainfo&&"FREE"===t.player.mediainfo.economics?void i["default"].log("On demand adRequest attempted on video with advertising disabled."):n?(i["default"].log("Clearing any previous VAST ad data and triggering ondemand adrequest."),void e.call(t,n)):void i["default"].log("On demand adRequest attempted without an adTagUrl!")}},adMacroReplacement:function(e){var a={};return t.bcAnalytics&&(a["{player.url}"]=d["default"].location.protocol+"//"+t.bcAnalytics.settings.player),t.ads.adMacroReplacement(e,!0,a)},insertAdContainer:function(e){var a=t.el().querySelector(".vjs-big-play-button");t.el().insertBefore(e,a)},currentAdEventInfo:{},addToCurrentAdEventInfo:function(e,t){""!==t&&(this.currentAdEventInfo[e]?this.currentAdEventInfo[e].push(t):this.currentAdEventInfo[e]=[t])},setAdsRenderingSettings:function(e){this.adsRenderingSettings_=e,this.adsManager&&this.adsManager.updateAdsRenderingSettings(e)},oneHandlers_:[],oneUnlessContentUpdate_:function(e,t){this.oneHandlers_.push({type:e,handler:t}),this.player.one(e,t)},version:"2.22.3",VERSION:"2.22.3"},this.on("contentupdate",function(){for(var e=this.ima3.oneHandlers_,t=0;t<e.length;t++){var a=e[t];this.off(a.type,a.handler)}this.ima3.oneHandlers_=[]}),this.on("adstart",function(e){t.duration()!==Infinity&&t.pause(),t.hasStarted(!0),t.ima3.currentAdEventInfo={}}),this.on("adend",function(){t.duration()===Infinity&&t.trigger("playing")}),this.on("adplay",function(){t.tech_.src()!==t.ads.snapshot.src||t.currentSrc()!==t.ads.snapshot.currentSrc||setTimeout(function(){t.pause()},0)}),this.ready(function(){for(var e=0;e<o.length;e++)if(A=o[e].charAt(0).toUpperCase()+o[e].substring(1).toLowerCase(),i["default"].getTech(A).isSupported()){i["default"].ima3[A].call(t,a),t.addClass("vjs-ima3-"+A.toLowerCase()),a.loadingSpinner&&t.addClass("ima3-loading-spinner"),r=!0;break}if(!r)return void i["default"].log("No supported ad tech available. If you have removed one of the default ad techs, you may want to consider adding it back in.")},!0)};i["default"].ima3.AdPlayer=i["default"].extend(i["default"].getComponent("Component"),{constructor:function(){var e=[this].concat(Array.prototype.slice.call(arguments));i["default"].getComponent("Component").apply(this,e)},buffered:function(){return[]},language:function(e){return e===undefined?this.options_.contentPlayer.language_:this.options_.contentPlayer.language(e)},languages:function(){return this.options_.contentPlayer.languages()},localize:function(e){return this.options_.contentPlayer.localize(e)},remainingTime:function(){return this.duration()-this.currentTime()},remainingTimeDisplay:function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},exitFullscreen:function(){return this.options_.contentPlayer.exitFullscreen()},reportUserActivity:function(){},requestFullscreen:function(){return this.options_.contentPlayer.requestFullscreen()},el:function(){return this.options_.contentPlayer.el()},audioTracks:function(){},textTracks:function(){},videoTracks:function(){},remoteTextTracks:function(){},addTextTrack:function(){},addRemoteTextTrack:function(){},removeRemoteTextTrack:function(){},scrubbing:function(){},lastVolume_:function(){var e;return(e=this.options_.contentPlayer).lastVolume_.apply(e,arguments)}}),(i["default"].registerPlugin||i["default"].plugin)("ima3",f);var n="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,i=a(n),o=e("global/window"),d=a(o),p=e("global/document"),g=a(p),v=function(e){for(var t=e.split("."),a=d["default"],n=0;n<t.length;n++)a[t[n]]||(a[t[n]]={}),a=a[t[n]]};i["default"].ima3.Flash=function(e){var t=this,a=g["default"].createElement("div"),n='<param name="flashvars" value="playerId='+this.el().id+"&debug="+this.ima3.settings.debug+'"><param name="wmode" value="transparent"><param name="AllowScriptAccess" value="always">',o=this.el().id+"-ima3-flash",r=i["default"].getComponent("ControlBar"),s=undefined,A=undefined,u=undefined,l=undefined,c=function(e){return e&&!/^https?:|file:/.test(e)?d["default"].location.protocol+e:e},m=function(){s.vjs_postrolltimeout(),t.trigger("ad-hard-timeout"),i["default"].log("ima3-hard-timeout")},f=function(){t.ads.ad={},t.ads.pod={}},p=function(e){t.ima3.ready(function(){f(),s.vjs_trigger({type:"adrequest",adTag:this.ima3.adMacroReplacement(c(e)),currentTime:this.currentTime(),options:{}})})};this.ima3.adTech="flash",i["default"].ima3.Flash.adrequest=function(){return i["default"].log.warn("videojs.ima3.Flash.adrequest is deprecated. Use player.ima3.adrequest instead."),p.apply(this,arguments)},this.ima3.adrequest=this.ima3.makeAdRequestFunction(p),e.serverUrl=c(e.serverUrl),a.className="vjs-ima3-ad-container vjs-ima3-ad-background",a.innerHTML='\x3c!--[if !IE]>--\x3e<object width="100%" height="100%" type="application/x-shockwave-flash" data="'+e.adSwf+'">'+n+"</object>\x3c!--<![endif]--\x3e",s=a.querySelector("object"),s||(a.innerHTML='<object width="100%" height="100%" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">  <param name="movie" value="'+e.adSwf+'">'+n+"</object>",s=a.querySelector("object")),s.id=o,s.name=o,s.className="vjs-ima3-flash-ad-container",v("google.ima.ImaSdkSettings"),v("google.ima.AdsManager"),v("google.ima.AdsLoader"),d["default"].google.ima.ImaSdkSettings.setAutoPlayAdBreaks=function(e){s.vjs_autoplayadbreaks(e)},d["default"].google.ima.AdsManager.getRemainingTime=function(){return s.vjs_getRemainingTime()},d["default"].google.ima.AdsManager.destroy=function(){return s.vjs_destroyAdsManager()},d["default"].google.ima.AdsManager.stop=function(){return s.vjs_stopAdsManager()},d["default"].google.ima.AdsLoader.contentComplete=function(){return s.vjs_contentComplete()},this.contextmenu&&(this.ima3.contextMenuPreviouslyDisabled=this.contextmenu.options.disabled,this.contextmenu.options.disabled=!0),this.addClass("vjs-ima3-right-click"),this.ima3.insertAdContainer(a);var h=i["default"].ima3.Flash.adPlayer(s,{contentPlayer:this}),y=new r(h,e.adControlBar);y.addClass("vjs-ad-control-bar"),this.addClass("vjs-ad-controls"),this.addChild(y),this.on(["contentupdate","adend","ima3-ready"],function(){f()}),this.on("adscanceled",function(){s.vjs_destroyAdsManager&&s.vjs_destroyAdsManager()}),this.on("adserror",function(){this.removeClass("ima3-ad-loading"),s.vjs_destroyAdsManager&&s.vjs_destroyAdsManager()});var T=function(){"none"===s.style.display&&(t.contextmenu&&(t.contextmenu.options.disabled=t.ima3.contextMenuPreviouslyDisabled),t.removeClass("vjs-ima3-right-click"),t.trigger("adtimeout"),d["default"].clearInterval(A)),t.ima3.settings.hardTimeouts&&t.ads.adTimeoutTimeout&&!u&&(d["default"].clearTimeout(t.ads.adTimeoutTimeout),u=!0,d["default"].setTimeout(function(){l=!0},t.ima3.settings.timeout))};A=d["default"].setInterval(function(){T();var a=function(e){s.vjs_trigger({type:e.type,options:{serverUrl:t.ima3.adMacroReplacement(t.ima3.settings.serverUrl)}})};s.vjs_trigger&&(t.trigger("ima3-ready"),d["default"].clearInterval(A),l&&t.trigger("adtimeout"),t.on("readyforpreroll",function(e){var n=t.ima3.settings;"ondemand"!==n.requestMode&&"oncue"!==n.requestMode&&a(e)}),t.on("contentended",function(e){"postroll?"===this.ads.state&&(this.one("adtimeout",m),e.type="ended",a(e))}),t.on(["contentupdate","dispose"],function(){t.off("adtimeout",m)}),t.on("timeupdate",function(e){s.vjs_trigger({type:e.type,currentTime:t.currentTime()})}),t.on("contentupdate",function(n){var i=t.currentSrc();if(f(),t.mediainfo&&"FREE"===t.mediainfo.economics)return t.trigger("adscanceled"),t.trigger("nopreroll"),void t.trigger("nopostroll");t.ima3.currentSrc!==i&&(t.ima3.currentSrc=i,"onplay"===e.requestMode?t.paused()?t.one("play",function(e){a({type:"contentupdate"})}):a({type:"contentupdate"}):"onload"===e.requestMode&&a(n))}),t.ready(function(){var n=t.currentSrc();if(t.ads.ad={},t.ads.pod={},n&&t.ima3.currentSrc!==n){if(t.ima3.currentSrc=n,t.mediainfo&&"FREE"===t.mediainfo.economics)return t.trigger("adscanceled"),t.trigger("nopreroll"),void t.trigger("nopostroll");"onplay"===e.requestMode?t.one("play",function(){a({type:"contentupdate"})}):"onload"===e.requestMode&&a({type:"contentupdate"})}}),t.on("debug",function(e){s.vjs_trigger({type:e.type,enable:e.enable})}))},50),this.ima3.adControlBar=y,this.ima3.adPlayer=h,this.ima3.el=s,this.ima3._object=s,this.ima3.adsManager=d["default"].google.ima.AdsManager,this.ima3.adsLoader=d["default"].google.ima.AdsLoader},i["default"].ima3.Flash.adPlayer=function(e,t){var a=t.contentPlayer,n=new i["default"].ima3.AdPlayer(t),o=function(e){a.ima3._object.vjs_cancelNextAd(),a.ima3._object.vjs_stopAdsManager(),a.ads.isAdPlaying()&&a.trigger("adend")};a.on("ima3-ads-manager-loaded",function(e){var t=a.ima3.settings,n=a.ima3._object.vjs_getCuePoints(),d=n&&n.length>0;t.useMediaCuePoints&&"oncue"===t.requestMode&&d&&(o(),i["default"].log.error("Cancelling VMAP ad because useMediaCuePoints must be used with VAST"))});var r=function(t,a){return function(){var n="vjs_"+t;return e[n]?e[n].apply(e,Array.prototype.slice.call(arguments)):a}},s=r("duration",-1),A=r("currentTime"),u=r("pause"),l=r("play"),c=r("volume",1);return function(){var e=!1,t={0:"PREROLL","-1":"POSTROLL"},o=function(){if(!n.paused()){n.options_.contentPlayer.$(".vjs-ima3-flash .vjs-ad-control-bar .vjs-play-progress").className.match("vjs-play-progress-resetting")||n.trigger("timeupdate")}},r=function l(){e&&(o(),d["default"].setTimeout(l,250))},s=function(e){if(e!==undefined){var t=a.ima3;t.currentAdEventInfo.adPodId=a.ads.pod.id,t.currentAdEventInfo.adPodLength=a.ads.pod.size,t.currentAdEventInfo.adType=a.ads.adType,t.addToCurrentAdEventInfo("adId",a.ads.ad.id),t.addToCurrentAdEventInfo("creativeLength",a.ads.ad.duration),t.addToCurrentAdEventInfo("creativeIndex",a.ads.ad.index),t.addToCurrentAdEventInfo("adIsciId",e.isci),t.addToCurrentAdEventInfo("creativeFormat",e.contentType),t.addToCurrentAdEventInfo("creativeUrl",e.mediaUrl),t.addToCurrentAdEventInfo("surveyUrl",e.surveyUrl),t.addToCurrentAdEventInfo("adTitle",e.title),t.addToCurrentAdEventInfo("wrapperCreativeIds",e.wrapperAdIds),t.addToCurrentAdEventInfo("adSystem",e.adSystem),t.addToCurrentAdEventInfo("wrapperAdSystems",e.wrapperAdSystems)}},A=function(e){var n=e.type,i=a.ima3.settings.eventMap[n];a.ima3.currentAd!==undefined&&(a.ads.ad.id=a.ima3.currentAd.id,a.ads.ad.duration=a.ima3.currentAd.duration,a.ads.ad.index=a.ima3.currentAd.adPodInfo.adPosition-1,a.ads.ad.type=t[a.ima3.currentAd.adPodInfo.timeOffset]||"MIDROLL",a.ads.pod.id=a.ima3.currentAd.adPodInfo.podIndex,a.ads.pod.size=a.ima3.currentAd.adPodInfo.totalAds,"ima3-started"===n?(s(a.ima3.currentAd),
a.ima3.addToCurrentAdEventInfo("started",a.ads.ad.index)):"ima3-complete"===n&&a.ima3.addToCurrentAdEventInfo("completed",a.ads.ad.index)),e.type=i||n,a.trigger(e)};n.on("play",function(){a.removeClass("vjs-ima3-paused"),e=!0,d["default"].setTimeout(r,250)}),n.on("pause",function(){a.addClass("vjs-ima3-paused"),e=!1}),n.on("ima3-started",function(e){i["default"].log("ima3-started"),A(e);var t=n.options_.contentPlayer.$(".vjs-ad-control-bar .vjs-play-progress");t.className=t.className.replace(" vjs-play-progress-resetting","")}),n.on("ima3-complete",function(e){i["default"].log("ima3-complete");var t=n.options_.contentPlayer.$(".vjs-ima3-flash .vjs-ad-control-bar .vjs-play-progress");t.className+=" vjs-play-progress-resetting",t.style.width="0"});var u=function(e){var t=a.ima3._object.vjs_getCuePoints(),n=t&&0===t.length,o=t&&0===t.indexOf(0);"VAST"===e&&n?(a.ima3._object.vjs_destroyAdsManager(),a.trigger("ad-hard-timeout"),i["default"].log("ima3-hard-timeout")):"VMAP"===e&&o&&(a.ima3._object.vjs_cancelNextAd(),a.trigger("ad-hard-timeout"),i["default"].log("ima3-hard-timeout"))};a.ima3.settings.hardTimeouts&&a.on("adtimeout",function(){var e=this;a.ima3._object.vjs_isAdsManagerReady&&a.ima3._object.vjs_isAdsManagerReady()?u("VAST"):function(){var t=function(e){u("VMAP")},n=function(e){u("VAST")};a.ima3.oneUnlessContentUpdate_("ima3-ads-manager-loaded",t),a.ima3.oneUnlessContentUpdate_("adsready",n),e.one("adstart",function(a){e.off("ima3-ads-manager-loaded",t),e.off("adsready",n)})}()}),n.on("ima3-resumed",A),n.on("ima3-paused",A),n.on("ima3-first-quartile",A),n.on("ima3-midpoint",A),n.on("ima3-third-quartile",A),n.on("ima3-volume-changed",A),n.on("ima3-click",A),n.on("ima3-complete",A),n.on("ima3-all-ads-completed",A),n.on("ima3-skipped",A),n.on("ads-request",A),n.on("ads-load",A),n.on("ads-pod-ended",A),n.on("ads-pod-started",A),n.on("ads-loading",A),n.on("ads-response-received",A)}(),n.currentTime=function(){if(n.currentTimeCache&&(new Date).getTime()-n.currentTimeCacheTime<250)return n.currentTimeCache;var e=A();return e=e<0?0:e,n.currentTimeCache=e,n.currentTimeCacheTime=(new Date).getTime(),e},n.on("ima3-started",function(){a.removeClass("vjs-ima3-paused")}),n.on("adserror",function(){a.trigger("adserror")}),n.on("adscanceled",function(){a.trigger("adscanceled")}),n.duration=function(){if(n.durationCache&&(new Date).getTime()-n.durationCacheTime<250)return n.durationCache;var e=s();return e=e<0?0:e,n.durationCache=e,n.durationCacheTime=(new Date).getTime(),e},n.isFullscreen=function(){return a.isFullscreen()},n.requestFullscreen=function(){return a.requestFullscreen()},n.volume=function(e){var t=c();if(e===undefined)return t||a.ima3.volume;c(e),a.ima3.volume=e||a.ima3.volume,n.trigger("volumechange")},n.muted=function(e){var t=c();return e!==undefined?0===n.volume(e?0:a.ima3.volume):0===t},n.pause=function(){n.trigger("pause"),u()},n.paused=r("paused"),n.play=function(){n.trigger("play"),l()},n};var n="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,i=a(n),o=e("global/window"),d=a(o),p=e("global/document"),g=a(p),A=e("./videojs.ima3-canautoplay.js"),u=a(A),m=i["default"].ima3.extend,h=function(e,t){return"function"==typeof getComputedStyle?d["default"].getComputedStyle(e)[t]:e.currentStyle[t]},y=function(e){return{width:parseInt(h(e.el(),"width"),10),height:parseInt(h(e.el(),"height"),10)}},T=function(e,t,a){var n={},i={0:"PREROLL","-1":"POSTROLL"},o=function(e){if(e!==undefined){var t=a.ima3;t.currentAdEventInfo.adPodId=a.ads.pod.id,t.currentAdEventInfo.adPodLength=a.ads.pod.size,t.currentAdEventInfo.adType=a.ads.adType,t.addToCurrentAdEventInfo("adId",a.ads.ad.id),t.addToCurrentAdEventInfo("creativeLength",a.ads.ad.duration),t.addToCurrentAdEventInfo("creativeIndex",a.ads.ad.index),t.addToCurrentAdEventInfo("creativeId",e.getCreativeId()),t.addToCurrentAdEventInfo("creativeAdId",e.getCreativeAdId()),t.addToCurrentAdEventInfo("creativeFormat",e.getContentType()),t.addToCurrentAdEventInfo("creativeUrl",e.getMediaUrl()),t.addToCurrentAdEventInfo("surveyUrl",e.getSurveyUrl()),t.addToCurrentAdEventInfo("adTitle",e.getTitle()),t.addToCurrentAdEventInfo("wrapperCreativeIds",e.getWrapperCreativeIds()),t.addToCurrentAdEventInfo("advertiserName",e.getAdvertiserName()),t.addToCurrentAdEventInfo("dealId",e.getDealId()),t.addToCurrentAdEventInfo("adSystem",e.getAdSystem()),t.addToCurrentAdEventInfo("wrapperAdSystems",e.getWrapperAdSystems())}};for(var d in t)!function(t,d){var r=function(t){var n={emitter:e,originalEvent:t};n.type=d,a.trigger(n),n.type=a.ima3.settings.eventMap[d],a.trigger(n),a.ima3.currentAd!==undefined&&(a.ads.ad.id=a.ima3.currentAd.getAdId(),a.ads.ad.duration=a.ima3.currentAd.getDuration(),a.ads.ad.currentTime=a.ima3.currentAd.getAdPodInfo().getTimeOffset(),a.ads.ad.index=a.ima3.currentAd.getAdPodInfo().getAdPosition()-1,a.ads.ad.type=i[a.ima3.currentAd.getAdPodInfo().getTimeOffset()]||"MIDROLL",a.ads.pod.id=a.ima3.currentAd.getAdPodInfo().getPodIndex(),a.ads.pod.size=a.ima3.currentAd.getAdPodInfo().getTotalAds(),"ima3-started"===d&&(o(a.ima3.currentAd),a.ima3.addToCurrentAdEventInfo("started",a.ads.ad.index))),"ima3-complete"===d&&a.ima3.addToCurrentAdEventInfo("completed",a.ads.ad.index)};n[t]=r,e.addEventListener(t,r,!1)}(t[d][0],t[d][1]);return function(){for(var t in n)e.removeEventListener(t,n[t])}},C=function(e,t){var a=g["default"].createElement("script"),n=g["default"].querySelector("head");a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(e,n){(n||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode.removeChild(a),a=null,t(n))},n.insertBefore(a,n.firstChild)},_=function(e){for(var t={},a=["AdErrorEvent","AdEvent","AdsManagerLoadedEvent"],n=a.length;n--;)if(e[a[n]]&&e[a[n]].Type){var i=e[a[n]].Type;for(var o in i)i.hasOwnProperty(o)&&(t[i[o]]=[i[o],function(e){return"ima3-"+e.toLowerCase().replace(/_/g,"-")}(o)])}return t},l=i["default"].ima3.Html5=function(e){var t=this,a=this.el().querySelector(".vjs-tech"),n=undefined,o=undefined,r=g["default"].createElement("div"),s=undefined,A=undefined,l=undefined,c=function(){t.ima3&&t.ima3.adsManager&&t.ima3.adsManager.skip&&t.ima3.adsManager.skip(),l(),t.trigger("ad-hard-timeout"),i["default"].log("ima3-hard-timeout")},f=undefined,p=undefined,v=function(e){e.ads.ad={},e.ads.pod={}};this.ima3.adTech="html5",r.className="vjs-ima3-ad-container",this.ima3.insertAdContainer(r);var h=function(a){if(!t.ima3.isReady_)return i["default"].log.error("Cannot make an ad request when the plugin is not ready. Skipping ad..."),void t.ads.endLinearAdMode();t.ads.startLinearAdMode(),l(),s(e,a),t.addClass("ima3-ad-loading")};i["default"].ima3.Html5.adrequest=function(){return i["default"].log.warn("videojs.ima3.Html5.adrequest is deprecated. Use player.ima3.adrequest instead."),h.apply(this,arguments)},this.ima3.adrequest=this.ima3.makeAdRequestFunction(h),this.on("ima3-content-pause-requested",function(e){t.ads.startLinearAdMode(),t.addClass("ima3-ad-loading"),t.trigger("ads-pod-started"),"application/javascript"===e.originalEvent.getAd().getContentType()&&t.addClass("vjs-vpaid-playing")}),this.on("ima3-content-resume-requested",function(e){t.ads.endLinearAdMode(),t.removeClass("ima3-ad-loading"),t.removeClass("vjs-vpaid-playing"),t.trigger("ads-pod-ended")}),this.on("fullscreenchange",function(e){if(i["default"].IS_ANY_SAFARI)for(var a=t.textTracks(),n=0;n<a.length;n++)"metadata"===a[n].kind&&"disabled"===a[n].mode&&(a[n].mode="hidden");var o=t.hasClass("vjs-fullscreen"),d=3,r=undefined;if(t.ima3&&t.ima3.adsManager){r=o?f.ViewMode.FULLSCREEN:f.ViewMode.NORMAL;var s=y(t);r===f.ViewMode.FULLSCREEN?t.ima3.adsManager.resize(t.el().offsetWidth,t.el().offsetHeight,r):t.ima3.adsManager.resize(s.width,s.height,r),setTimeout(function A(e,a){var n=y(t);return function(){r===f.ViewMode.FULLSCREEN?t.ima3.adsManager.resize(t.el().offsetWidth,t.el().offsetHeight,r):t.ima3.adsManager.resize(n.width,n.height,r),n.width===e&&n.height===a||d--&&setTimeout(A(n.width,n.height),1e3)}}(s.width,s.height),1e3)}}),this.on("ima3-started",function(){t.removeClass("ima3-ad-loading"),i["default"].log("ima3-started");var e=t.$(".vjs-ad-control-bar .vjs-play-progress");e.className=e.className.replace(" vjs-play-progress-resetting","")});var b=function(e){var t=f.AdError.ErrorCode;for(var a in t)if(t.hasOwnProperty(a)&&!a.match("COMPANION|NONLINEAR|OVERLAY")&&e.getErrorCode()===t[a]&&"adLoadError"===e.getType())return!0;return!1};this.on("ima3-ad-error",function(e){var a={},n=undefined;e.originalEvent&&(a=e.originalEvent.getError(),n=a.getErrorCode(),i["default"].log("ima3-ad-error",e.originalEvent.getError().toString(),e),(b(a)&&"onload"===t.ima3.settings.requestMode||"onplay"===t.ima3.settings.requestMode)&&t.trigger("nopostroll")),t.removeClass("ima3-ad-loading"),t.trigger({type:"adserror",errorCode:n})});var M=function(){var e=t.ima3.adsManager&&0===t.ima3.adsManager.getCuePoints().length,a=t.ima3.adsManager&&t.ima3.adsManager.getCuePoints().indexOf(0)>=0;e?(l(),t.trigger("ad-hard-timeout"),i["default"].log("ima3-hard-timeout")):a&&(t.ima3.adsManager.discardAdBreak(),t.trigger("ad-hard-timeout"),i["default"].log("ima3-hard-timeout"))};e.hardTimeouts&&this.on("adtimeout",function(){t.ima3.adsManager?M():(t.one("ima3-ads-manager-loaded",M),t.one(["adstart","contentupdate","dispose"],function(e){t.off("ima3-ads-manager-loaded",M)}))}),this.on("ima3-loaded",function(e){var a=e.originalEvent.getAd();t.ima3.currentAd=a,t.trigger("ads-loading"),t.removeClass("ima3-ad-loading"),a&&!a.isLinear()&&(t.addClass("vjs-ima3-overlay"),t.trigger("adstart"),t.trigger("adend"))}),this.on("ima3-complete",function(e){var a=e.originalEvent.getAd();i["default"].log("ima3-complete"),delete t.ima3.currentAd,a&&(a.isLinear()?t.addClass("ima3-ad-loading"):t.removeClass("vjs-ima3-overlay"));var n=t.$(".vjs-ad-control-bar .vjs-play-progress");n.className+=" vjs-play-progress-resetting",n.style.width="0"}),this.on("resize",function(){if(t.ima3.adsManager){var e=y(t);t.ima3.adsManager.resize(e.width,e.height,f.ViewMode.NORMAL)}}),this.on("readyforpreroll",function(){"ondemand"!==e.requestMode&&"oncue"!==e.requestMode&&A()}),this.on("adserror",function(){l()}),this.on("adscanceled",function(){l()});var w=function(e){t.ima3.adsManager.discardAdBreak(),t.ima3.adsManager.skip(),t.ima3.managerCleanup=null,"ad-playback"===t.ads.state&&t.ads.endLinearAdMode()};this.on("ima3-ads-manager-loaded",function(e){t.ima3.managerCleanup&&l();var a={};a.currentTime=t.currentTime(),a.duration=t.duration(),t.on("timeupdate",function(){a.currentTime=t.currentTime()});var n=e.originalEvent.getAdsManager(a,t.ima3.adsRenderingSettings_);t.ima3.adsManager=n,t.trigger("ads-response-received");var o=t.ima3.settings,d=t.ima3.adsManager.getCuePoints(),r=d&&d.length>0;if(o.useMediaCuePoints&&"oncue"===o.requestMode&&r)return w(),void i["default"].log.error("Cancelling VMAP ad because useMediaCuePoints must be used with VAST");t.ima3.managerCleanup=T(n,p,t),"ad-playback"===t.ads.state?A():t.trigger("adsready"),"oncue"!==o.requestMode&&(n.getCuePoints().length&&n.getCuePoints().indexOf(0)<0&&t.trigger("nopreroll"),n.getCuePoints().indexOf(-1)<0&&t.trigger("nopostroll"))});var S=function(e,a){if(!f||f&&!f.AdsRequest)throw new Error("An ad request was made before the plugin is ready");var n=y(t);return!t.ima3.lastSrc_||t.ima3.lastSrc_!==t.currentSrc()||"onload"!==e.requestMode&&"onplay"!==e.requestMode?(t.ima3.lastSrc_=t.currentSrc(),t.ima3.adsRequest=m(new f.AdsRequest,{adTagUrl:t.ima3.adMacroReplacement(a||t.ima3.settings.serverUrl),linearAdSlotWidth:n.width,linearAdSlotHeight:n.height,nonLinearAdSlotWidth:n.width,nonLinearAdSlotHeight:n.height}),t.ima3.adsRequest.adTagUrl?void(0,u["default"])(t).then(function(){t.ima3.adsRequest.setAdWillPlayMuted(t.muted()),t.ima3.adsRequest.setAdWillAutoPlay(t.autoplay()),t.ima3.adsLoader.requestAds(t.ima3.adsRequest),t.trigger("ads-request")}):void t.trigger("adscanceled")):void i["default"].log("Cancelling repeat adsRequest for "+t.currentSrc())};s=function(e,a){"onplay"===e.requestMode&&t.paused()?t.one("play",function(){S(e,a)}):S(e,a)};var P=function(){t.ima3.adDisplayContainer&&!t.ima3.adDisplayContainer.initialized&&(t.ima3.adDisplayContainer.initialize(),t.ima3.adDisplayContainer.initialized=!0)};A=function(){var e=y(t);try{t.muted()?t.ima3.adsManager.setVolume(0):t.ima3.adsManager.setVolume(.01),P(),t.trigger("ads-load"),t.ima3.adsManager.init(e.width,e.height,f.ViewMode.NORMAL),t.ima3.adsManager.start()}catch(a){t.trigger("adserror")}},l=function(){t.ima3.adsManager&&(t.ima3.adsManager.destroy(),t.ima3.adsManager=null),t.ima3.managerCleanup&&(t.ima3.managerCleanup(),t.ima3.managerCleanup=null)};var q=function(){var A=i["default"].getComponent("ControlBar");if(f=d["default"].google.ima,p=_(f),e.ima3SdkSettings)for(var u in e.ima3SdkSettings){var l="set"+u.charAt(0).toUpperCase()+u.slice(1);"function"==typeof f.settings[l]?f.settings[l](e.ima3SdkSettings[u]):i["default"].log.warn('Invalid ima3SdkSetting: "'+u+'"')}o=i["default"].ima3.Html5.adPlayer(r,{contentPlayer:t}),n=new A(o,e.adControlBar),n.addClass("vjs-ad-control-bar"),t.addClass("vjs-ad-controls"),t.addChild(n),t.ima3.adControlBar=n,t.ima3.adPlayer=o;var m=i["default"].browser.IS_IOS,g=i["default"].browser.IS_ANDROID;if(!m&&!g||t.tech_.featuresVolumeControl||t.muted()||n.volumeMenuButton&&n.volumeMenuButton.addClass("vjs-hidden"),e.vpaidMode){if("number"!=typeof f.ImaSdkSettings.VpaidMode[e.vpaidMode])throw new Error('Invalid VPAID Mode: "'+e.vpaidMode+'"');f.settings.setVpaidMode(f.ImaSdkSettings.VpaidMode[e.vpaidMode])}t.ima3.adDisplayContainer=new f.AdDisplayContainer(r,a,e.clickTrackingElement),t.ima3.adDisplayContainer.initialized=!1;var h="click";(m||g)&&(h="touchend"),t.one(h,function(){P()}),t.ima3.adsLoader=new f.AdsLoader(t.ima3.adDisplayContainer);var y=t.ima3.adsLoader.getSettings();y.setPlayerVersion(t.ima3.version),y.setPlayerType("brightcove/player-html5"),t.ima3.loaderCleanup=T(t.ima3.adsLoader,p,t);var C=t.currentSrc();t.mediainfo&&"FREE"===t.mediainfo.economics?(t.trigger("adscanceled"),t.trigger("nopreroll"),t.trigger("nopostroll")):C&&""!==C&&"ondemand"!==e.requestMode&&"oncue"!==e.requestMode&&s(e),t.on("contentupdate",function(){if(C=t.currentSrc(),t.mediainfo&&"FREE"===t.mediainfo.economics)return t.trigger("adscanceled"),t.trigger("nopreroll"),void t.trigger("nopostroll");C&&""!==C&&"ondemand"!==e.requestMode&&"oncue"!==e.requestMode&&s(e)}),t.on("contentended",function(){"postroll?"===t.ads.state&&(t.one("adtimeout",c),t.ima3.adsLoader.contentComplete())}),t.on(["contentupdate","dispose"],function(){t.off("adtimeout",c)}),t.on(["contentupdate","adend","ima3-ready"],function(){v(t)}),t.ima3.el=r};d["default"].google&&d["default"].google.ima?(q(),this.trigger("ima3-ready")):C(e.sdkurl,function(e){q(),e?t.trigger({type:"adserror",info:e}):t.trigger("ima3-ready")})};l.eventTypes=_,i["default"].ima3.Html5.adPlayer=function(e,t){var a=t.contentPlayer,n=new i["default"].ima3.AdPlayer(t),o=!0;return n.currentTime=function(){var e=n.duration();if(!e||!a.ima3.adsManager)return 0;var t=a.ima3.adsManager.getRemainingTime();return t<=0?0:t>e?0:t>0?e-t:void 0},n.duration=function(){var e=a.ima3.currentAd;if(e){var t=e.getDuration();return t>0?t:0}return 0},n.pause=function(){o=!0,a.ima3.adsManager.pause()},n.paused=function(){return o},n.play=function(){o=!1,a.ima3.adsManager.resume(),n.trigger("play")},n.isFullscreen=function(){return a.isFullscreen()},n.requestFullscreen=function(){return a.requestFullscreen()},n.volume=function(e){if(!a.ima3||!a.ima3.adsManager)return void i["default"].log.error("Too early to set Volume. IMA3 is not loaded");var t=a.ima3.adsManager.getVolume();return e!==undefined&&(a.ima3.adsManager.setVolume(e),a.ima3.volume=e||a.ima3.volume,n.trigger("volumechange")),t||a.ima3.volume},n.muted=function(e){var t=a.ima3.adsManager.getVolume();return e!==undefined?0===n.volume(e?0:a.ima3.volume):0===t},a.on("ima3-started",function(){a.removeClass("vjs-ima3-paused"),n.trigger("play"),o=!1}),a.on("ima3-resumed",function(){a.removeClass("vjs-ima3-paused"),n.trigger("play"),o=!1}),a.on("ima3-paused",function(){a.addClass("vjs-ima3-paused"),n.trigger("pause"),o=!0}),function r(){a.ads.isAdPlaying()&&!n.paused()&&n.trigger("timeupdate"),d["default"].setTimeout(r,1e3)}(),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./videojs.ima3-canautoplay.js":1,"./videojs.ima3-cuepoints.js":2,"global/document":5,"global/window":6,"videojs-contrib-ads":7}]},{},[8])(8)});